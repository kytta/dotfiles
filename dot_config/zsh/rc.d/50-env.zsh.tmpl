# -U ensures each entry in these is Unique
export -U PATH path FPATH fpath MANPATH manpath
export -UT INFOPATH infopath  # -T creates a "tied" pair

export PNPM_HOME="$HOME/.local/share/pnpm"

path=(
  "$HOMEBREW_PREFIX"/opt/curl/bin
  "$HOMEBREW_PREFIX"/opt/gnu-getopt/bin
  "$HOMEBREW_PREFIX"/opt/mysql-client/bin
  "$HOMEBREW_PREFIX"/opt/ncurses/bin

  $path

{{ if (eq .chezmoi.os "darwin") }}
  /Library/Apple/usr/bin
  /opt/X11/bin
{{ end }}

  ~/.local/bin
  $HOME/.cargo/bin
  $PNPM_HOME
)

fpath=(
  $ZDOTDIR/functions
  $fpath
  ~/.local/share/zsh/site-functions
)

# Set the Android SDK path
export ANDROID_HOME="${XDG_DATA_HOME:=~/.local/share}/Android/sdk"

# Set PATH and completions for the Google Cloud SDK.
if [ -f '$HOME/google-cloud-sdk/path.zsh.inc' ]; then
  . '$HOME/google-cloud-sdk/path.zsh.inc'
fi
if [ -f '$HOME/google-cloud-sdk/completion.zsh.inc' ]; then
  . '$HOME/google-cloud-sdk/completion.zsh.inc'
fi

# pyenv
{{ if (ne .chezmoi.os "darwin") }}
export PYENV_ROOT="~/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
{{ end }}
eval "$(pyenv init --path)"

# Editors
export LESS='--ignore-case --LONG-PROMPT --RAW-CONTROL-CHARS --chop-long-lines --hilite-unread --tabs=4'

# macOS stuff
{{ if (eq .chezmoi.os "darwin") }}
  # set browser to `open`
  export BROWSER=open

  # fix python multiprocessing
  export OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES 
{{ end }}

# Use `< file` to quickly view the contents of any file.
READNULLCMD=$PAGER  # Set the program to use for this.
